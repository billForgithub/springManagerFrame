## 常见报错：
 _- 1, 很多依赖死活都下载不下来？
    - 答： 由于spring-boot和spring-cloud等版本比较新，所以目前国内的一些仓库还没有新版本的jar。
    需要配置spring的maven仓库。 （配置后还是无法下载，就先注释掉settings.xml中其他的仓库，只保留这个）
```
	 <mirror>
  		<id>alimaven</id>
  		<name>aliyun maven</name>
  		<url>http://maven.aliyun.com/nexus/content/groups/public/</url>
  		<mirrorOf>central</mirrorOf>
	</mirror>
    <mirror>
        <id>spring-milestones</id>
        <name>Spring Milestones</name>
        <url>https://repo.spring.io/libs-milestone</url>
        <mirrorOf>central</mirrorOf>
    </mirror>
```
 - 2, 很多类缺少get/set方法？
    - 答：请用IDEA或Eclipse安装`lombok`插件
    
 - 3, zuihou-generator jar缺失？
    - 答： https://github.com/zuihou/zuihou-generator 。去我github下载这个项目，自行编译。
    
 - 4, 为啥要将调度器和执行器合并在一起？
     - 答： 对于中小型项目，对高可用的需求并不是很大，若把调度器和执行器分开部署，会增加部署成本。    
 
 - 5, 将配置文件导入到nacos后，启动解析文件报错？
    - 答： 将配置文件中的所有注释，以及中文删除改成英文
    
 - 6，对于window服务器， 启动zuihou-jobs-server报找不到表的错， 但数据库中确实有表，只是表名全是小写？    
    - 答： 1） SHOW VARIABLES LIKE '%case%'; 查看 lower_case_table_names 是否=2  
            2） 修改my.cnf(my.ini) 文件增加  ：
       ```
      [mysqld]
      lower_case_table_names=2
      ```_     
      
 - 7, nacos里面配置文件10多个，zuihou-xx-server/src/main/resources/*.yml 下面也有 bootstrap.yml、bootstrap-dev.yml、application.yml 
    - 答： 建议先网上搜索了解清楚 SpringBoot 项目的 bootstrap.yml、application.yml 的加载优先级, 以及多环境配置
    
    本项目中的，这几个配置文件中出现了相同的key，但不同的value时，
    value读取顺序时： zuihou-authority-server-dev.yml(nacos) > zuihou-authority-server.yml(nacos) > common.yml(nacos) > bootstrap-dev.yml(resources) > bootstrap.yml(resources)
    比如：zuihou.port.nginx: ${server.port}  zuihou.port.nginx: ${NGINX_PORT:80}
    
    
    参考1： https://cloud.tencent.com/developer/article/1448393
    参考2： https://blog.csdn.net/guochunyang/article/details/89920209
  
  - 8, 启动时， 报连不上数据库的错？ `Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.`
     - 答： 
     - 1，检查 `zuihou-dependencies/pom.xml` 里 `pom.nacos.namespace` 中的值，是否为自己在naocs中新建的命名空间id
     - 2，检查 nacos 的`配置列表` - 切换到命名空间 `zuihou`  -  查看 `mysql.yml` 和 `zuihou-**-server-dev.yml` 里面关于数据库的配置，是否正确.
     - 3，确定一下，是否在在 IDEA 中执行过 `clean insatll ` 编译命令！ （这一步很关键！）
     - 4，打开`zuihou-backend/zuihou-authority/zuihou-authority-server/target/classes/bootstrap.yml` 文件，检查一下 `@pom.nacos.ip@` 、`@pom.nacos.port@` 、`@pom.nacos.namespace@`  等 `@xx@` 相关的表达式是否替换成具体的值了。 
     - 5，确认一下nacos中，所有的配置文件，`点击编辑`-`配置格式` 修改为YAML 类型。（nacos的bug，导致导入的配置会变成TEXT类型）
     - 6，确认一下nacos中，**zuihou命名空间下**，mysql.yml 和 zuihou-authority-server-dev.yml中，mysql相关的 信息是否配对。

  - 9, 启动时，报dozer 的一系列错误？
    - 答： 项目、jdk、任何的中间件等， 不能安装或存放在有 空格、中文、特殊字符的路径。 否则会有意想不到的报错。
    - PS： 项目、mysql、redis、jdk、tomcat 开发相关的任何工具、软件、中间件、源码等等， 不能放在 有空格，中文，特殊字符的路径，这应该成为开发最基础的常识。
 
## 小技巧：
### IDEA debug jar 

java -jar -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5005 zuihou-authority-server.jar

### 查看磁盘空间占用
df -h
### 查看当前目录的磁盘占用
du -ah --max-depth=1

## 免密

- 在jenkins服务器，用ssh-keygen -t rsa产生密钥对
    ssh-keygen -t rsa -P ''
        
- 在jenkins服务器，将私钥复制到 应用服务器
    ssh-copy-id -i ~/.ssh/id_rsa.pub -p 53535 zkhy@192.168.30.1
    
